:- lib(ic).
:- lib(ic_global).
:- lib(ic_cumulative).

jobs([J1,J2,J3,J4]):-
% definition of the jobs
    J1 = [S111,S122,S131]-[2,4,7]-[1,2,1],
    J2 = [S211,S222,S231]-[3,4,5]-[1,2,1],
    J3 = [S311,S322,S332]-[5,3,3]-[1,2,2],
    J4 = [S411,S422,S432]-[3,3,4]-[1,2,2],
% domain declarations
    [S111,S122,S131] :: 0..15,
    [S211,S222,S231] :: 0..15,
    [S311,S322,S332] :: 0..15,
    [S411,S422,S432] :: 0..15,
%precedence constraints
% resource limitation contraints
% constraints on the end of the jobs
% labelling of the tasks starting times
% precedence constraints
    S122 #>= S111+2, S131 #>= S122+4,
    S222 #>= S211+3, S231 #>= S222+4,
    S322 #>= S311+5, S332 #>= S322+3,
    S422 #>= S411+3, S432 #>= S422+3,
% resource limitation contraints
%resource1
    cumulative([S111,S131,S211,S231,S311,S411],
        [2,7,3,5,5,3], [1,1,1,1,1,1], 2), 
%resource2
    cumulative([S122,S222,S322,S332,S422,S432],
        [4,4,3,3,3,4], [1,1,1,1,1,1], 2), 
% constraints on the end of the jobs
    E #>= S131+7, E #>= S231+5,
    E #>= S332+3, E #>= S432+4,
    E #=< 13,
% labeling of the tasks starting times
    labeling([S111, S122, S131, S211, S222, S231, S311, S322, S332, S411, S422, S432]).

jobsplus([J1,J2,J3,J4,J5,J6,J7,J8,J9,Ja]):-
    J1 = [S111,S122,S133,S144,S155,S166,S177,S188,S199,S1aa]-[29,78,9,36,49,11,62,56,44,21]-[1,2,3,4,5,6,7,8,9,a],
    J2 = [S211,S223,S235,S24a,S254,S262,S277,S286,S298,S2a9]-[43,90,75,11,69,28,46,46,72,30]-[1,3,5,a,4,2,7,6,8,9],
    J3 = [S312,S321,S334,S343,S359,S366,S378,S387,S39a,S3a5]-[91,85,39,74,90,10,12,89,45,33]-[2,1,4,3,9,6,8,7,a,5],
    J4 = [S412,S423,S431,S445,S457,S469,S478,S484,S49a,S4a6]-[81,95,71,99,9,52,85,98,22,43]-[2,3,1,5,7,9,8,4,a,6],
    J5 = [S513,S521,S532,S546,S554,S565,S579,S588,S59a,S5a7]-[14,6,22,61,26,69,21,49,72,53]-[3,1,2,6,4,5,9,8,a,7],
    J6 = [S613,S622,S636,S644,S659,S66a,S671,S687,S695,S6a8]-[84,2,52,95,48,72,47,65,6,25]-[3,2,6,4,9,a,1,7,5,8],
    J7 = [S713,S722,S734,S743,S757,S766,S77a,S789,S798,S7a5]-[46,37,61,13,32,21,32,89,30,55]-[2,1,4,3,7,6,a,9,8,5],
    J8 = [S813,S821,S832,S846,S855,S867,S879,S88a,S898,S8a4]-[31,86,46,74,32,88,19,48,36,79]-[3,1,2,6,5,7,9,a,8,4],
    J9 = [S911,S922,S934,S946,S953,S96a,S977,S988,S995,S9a9]-[76,69,76,51,85,11,40,89,26,74]-[1,2,4,6,3,a,7,8,5,9],
    Ja = [Sa12,Sa21,Sa33,Sa47,Sa59,Sa6a,Sa76,Sa84,Sa95,Saa8]-[85,13,61,7,64,76,47,52,90,45]-[2,1,3,7,9,a,6,4,5,8],

    [S111,S122,S133,S144,S155,S166,S177,S188,S199,S1aa] :: 0..1023,
    [S211,S223,S235,S24a,S254,S262,S277,S286,S298,S2a9] :: 0..1023,
    [S312,S321,S334,S343,S359,S366,S378,S387,S39a,S3a5] :: 0..1023,
    [S412,S423,S431,S445,S457,S469,S478,S484,S49a,S4a6] :: 0..1023,
    [S513,S521,S532,S546,S554,S565,S579,S588,S59a,S5a7] :: 0..1023,
    [S613,S622,S636,S644,S659,S66a,S671,S687,S695,S6a8] :: 0..1023,
    [S713,S722,S734,S743,S757,S766,S77a,S789,S798,S7a5] :: 0..1023,
    [S813,S821,S832,S846,S855,S867,S879,S88a,S898,S8a4] :: 0..1023,
    [S911,S922,S934,S946,S953,S96a,S977,S988,S995,S9a9] :: 0..1023,
    [Sa12,Sa21,Sa33,Sa47,Sa59,Sa6a,Sa76,Sa84,Sa95,Saa8] :: 0..1023,

    S122 #>= S111+29,S133 #>= S122+78,S144 #>= S133+9,S155 #>= S144+36,S166 #>= S155+49,S177 #>= S166+11,S188 #>= S177+62,S199 #>= S188+56,S1aa #>= S199+44,
    S223 #>= S211+43,S235 #>= S223+90,S24a #>= S235+75,S254 #>= S24a+11,S262 #>= S254+69,S277 #>= S262+28,S286 #>= S277+46,S298 #>= S286+46,S2a9 #>= S298+72,
    S321 #>= S312+91,S334 #>= S321+85,S343 #>= S334+39,S359 #>= S343+74,S366 #>= S359+90,S378 #>= S366+10,S387 #>= S378+12,S39a #>= S387+89,S3a5 #>= S39a+45,
    S423 #>= S412+81,S431 #>= S423+95,S445 #>= S431+71,S457 #>= S445+99,S469 #>= S457+9,S478 #>= S469+52,S484 #>= S478+85,S49a #>= S484+98,S4a6 #>= S49a+22,
    S521 #>= S513+14,S532 #>= S521+6,S546 #>= S532+22,S554 #>= S546+61,S565 #>= S554+26,S579 #>= S565+69,S588 #>= S579+21,S59a #>= S588 +49,S5a7 #>= S59a+72,
    S622 #>= S613+84,S636 #>= S622+2,S644 #>= S636+52,S659 #>= S644+95,S66a #>= S659+48,S671 #>= S66a+72,S687 #>= S671+47,S695 #>= S687+65,S6a8 #>= S695+6,
    S722 #>= S713+46,S734 #>= S722+37,S743 #>= S734+61,S757 #>= S743+13,S766 #>= S757+32,S77a #>= S766+21,S789 #>= S77a+32,S798 #>= S789+89,S7a5 #>=S798+30,
    S821 #>= S813+31,S832 #>= S821+86,S846 #>= S832+46,S855 #>= S846+74,S867 #>= S855+32,S879 #>= S867+88,S88a #>= S879+19,S898 #>= S88a+48,S8a4 #>= S898+36,
    S922 #>= S911+76,S934 #>= S922+69,S946 #>= S934+76,S953 #>= S946+51,S96a #>= S953+85,S977 #>= S96a+11,S988 #>= S977+40, S995 #>= S988+89, S9a9 #>= S995+26,
    Sa21 #>= Sa12+85,Sa33 #>= Sa21+13,Sa47 #>= Sa33+61,Sa59 #>= Sa47+7, Sa6a #>= Sa59+64,Sa76 #>= Sa6a+76,Sa84 #>= Sa76+47,Sa95 #>= Sa84+52,Saa8 #>= Sa95+90,
    
    cumulative([S111,S122,S133,S144,S155,S166,S177,S188,S199,S1aa],
        [2,7,3,5,5,3], [1,1,1,1,1,1], 2), 